<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Todo Item</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="./css/style.css">
	</head>
<body>
            
    <div class="container-1">
        <div class="banner-hero-holder" style="background-image: url(/img/purple.jpeg); position: relative; z-index: 0; background-attachment: scroll; background-size: auto; background-repeat: unset;">
            <div class="wrapper">
                <div class="title-block-top">
                    <a href="users.html">All User</a>
                </div>
            <div style="display: flex; justify-content: center; width: 100%;">
                <div class="title-block-center" id="todoitem">

                </div>
            </div>
        </div>
    </div>


    <script>
        function getTodoId() {
            const searchParams = new URLSearchParams(window.location.search);
            const todoId = searchParams.get('todoId');
            return todoId;
    }
        // load to do item
        function getTodoItem(todoId) {
        return fetch(`https://jsonplaceholder.typicode.com/todos/${todoId}`).then((response) => {
            return response.json();
        });
    }

        // render todo item to block
        function renderTodoItemBlock(todoItem) {
            const todoItemDiv = document.getElementById('todoitem');
              if (todoItem.completed = true) {
                todoItemDiv.innerHTML = `
                    <div>
                        <p>Title: ${todoItem.title}</p>
                        <p>Status: <div class="progress progress-100">100%</div></p>
                        </p>
                    </div>
                `;
              } else {
                todoItemDiv.innerHTML = `
                    <div>
                        <p>Title: ${todoItem.title}</p>
                        <p class="progress progress-0">Status: 0%</div></p>
                    </div>
                `;
              }
        } 
        
        // render data to html
        function render(todoItem) {
            renderTodoItemBlock(todoItem);
        }
    
        // lay cac user trong file json
        async function run() {
            const todoId = await getTodoId();
            const todoItem = await getTodoItem(todoId);
        render(todoItem);
        } 
        run();
    </script>
</body>
<footer>
    <div class="footer wrapper">
      <p>Nhu</p>
      <p>Copyright Â© 2017 Vinero. Powered by VLThemes</p>
    </div>
  </footer>
</html>